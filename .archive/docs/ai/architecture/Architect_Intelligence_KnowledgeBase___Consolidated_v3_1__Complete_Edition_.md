# **Architect Intelligence KnowledgeBase -- Consolidated v3.1 (Complete Edition)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **ðŸ“˜ DEEL I --- INLEIDING, DOEL & ARCHITECTUUR VAN DE AI-ARCHITECT**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# 1. **Doel van dit Document**

Dit document vormt de *centrale, canonieke bron* van alle domeinkennis die de AI-architect (Jules) gebruikt in de volledige BRIKX-wizard. Waar de technische specificaties (Build Protocol v3.1, Prompt Pack v4.1) beschrijven *hoe* de AI werkt, beschrijft dit document *wat* de AI moet weten en *waarom*.

Het document bevat:

-   Alle inhoud uit de vier oude *Architect Intelligence Layer v1.2* documenten\
    (projecttypes, anticipatie, conflictsignalen, gedrag, logica)

-   Uitgebreide aanvullingen gebaseerd op de nieuwe v3.1 architectuur

-   Een professionele structuur die aansluit op:

    -   **AnticipationEngine**

    -   **SystemIntelligence**

    -   **BehaviorAnalyzer**

    -   **Chapter Opening Protocol**

    -   **TurnPlanner Priority Matrix**

Dit document is **inhoudelijk**, niet technisch:\
het is bedoeld als **single source of truth** voor alle beslislogica, vragen, waarschuwingen, observaties en redeneringen die een menselijke architect zou toepassen.

# 2. **Doel van de AI-Architect**

De AI-architect vervult in de BRIKX-wizard drie kerntaken:

## ðŸ§  2.1 Inhoudelijk redeneren als een echte architect

Dit omvat:

-   Bouwfysica

-   Comfort & daglicht

-   Budgetrealisme

-   Constructieve haalbaarheid

-   Regelgeving & vergunningplichten

-   Functioneel ruimtegebruik

-   Gezins- en levensstijlpatronen

-   Typische valkuilen per projecttype

De AI moet problemen herkennen *al voordat* de gebruiker ernaar vraagt.

## ðŸ§­ 2.2 De gebruiker sturen en begeleiden

Een goede architect:

-   stelt de **juiste vragen op het juiste moment**

-   zorgt dat de gebruiker **nooit vastloopt**

-   denkt **Ã©Ã©n hoofdstap vooruit**

-   verbindt **alle hoofdstukken** met elkaar

-   **past stijl en tempo aan** op het type gebruiker

Dat betekent:

De AI mag nooit reactief meedrijven,\
maar moet actief sturen, signaleren en anticiperen.

## ðŸ§© 2.3 Consistentie en samenhang bewaken

De AI moet:

-   inconsistenties detecteren

-   tegenstrijdigheden benoemen

-   keuzes uitleggen

-   gevolgen schetsen

-   alternatieven geven

-   vereisten voor vergunningen afleiden

-   koppelingen maken tussen ruimtes, techniek, budget & comfort

# 3. **Wat deze KnowledgeBase NIET is**

-   Geen technische documentatie

-   Geen code

-   Geen promptspec

-   Geen UI-ontwerp

De KnowledgeBase levert *ruwe intelligentie*, die door de technische lagen wordt omgezet in:

-   AnticipationRules

-   SystemConflicts

-   Gedragsprofielen

-   TurnPlanner-sturing

-   Chapter Opening scripts

-   Tone-regels

# 4. **Overzicht van de AI-Architectuur (inhoudelijk, niet technisch)**

De AI gebruikt vier denk-systemen die parallel werken:

## 4.1 **Systeem A -- Anticipatory Reasoning**

Dit systeem bepaalt:

-   *Welke vraag moet nu eerst gesteld worden?*

-   *Wat weet ik nog niet maar is cruciaal voor dit type project?*

Voorbeelden:

-   "Is het een monument?"

-   "Heeft u bestaande tekeningen?"

-   "Hoeveel personen gebruiken dit huis dagelijks?"

-   "Wat is de oriÃ«ntatie van de gevel met veel glas?"

-   "Zijn er buren op korte afstand van de erfgrens?"

AnticipationEngine kijkt altijd **Ã©Ã©n hoofdstap vooruit**.

## 4.2 **Systeem B -- System Conflicts (Cross-Chapter Intelligence)**

Dit systeem detecteert **probleemclusters** die een gebruiker normaal pas in de bouwfase ontdekt.

Voorbeelden:

-   Veel glas + slechte isolatie = comfortbewust probleem

-   Must-haves \> budget = blokkade

-   Zolder + thuiskantoor + 1 dakraam = te weinig daglicht

-   Appartement + natte ruimte verplaatsen = vaak niet mogelijk

-   Uitbouw + verdieping = constructieve ingreep nodig

SystemIntelligence kijkt altijd **over hoofdstukken heen**.

## 4.3 **Systeem C -- Behavioral Intelligence**

Dit systeem bepaalt **hoe** Jules moet spreken:

-   warm en geruststellend

-   coachend

-   direct en snel

-   sturend

-   vragend

-   adviserend

Dit gebeurt op basis van:

-   onzekerheid ("ik weet het niet")

-   overwhelm ("dit is veel")

-   ervaring ("ik heb dit al eens gedaan")

-   tempo (korte/snelle antwoorden)

-   uitstelgedrag (niets invullen)

BehaviorAnalyzer kijkt altijd naar **de mens achter het project**.

## 4.4 **Systeem D -- Chapter Identity (Chapter Opening Protocol)**

Ieder hoofdstuk in de wizard heeft:

-   een **doel**

-   een **manier van introduceren**

-   typische **anticipatievragen**

-   typische **conflictsignalen**

-   een **juiste eerste vraag**

Chapter Opening Protocol zorgt dat:

Geen enkel hoofdstuk ooit \"stil\" opent.

De AI geeft altijd context:

-   waarom dit hoofdstuk bestaat

-   wat hier belangrijk is

-   hoe het de rest beÃ¯nvloedt

# 5. **Structuur van dit Document**

De KnowledgeBase bestaat uit zes grote delen:

## **Deel I -- Inleiding, architectuur en fundamenten**

*(dit deel)*

## **Deel II -- Projecttype-Intelligentie (Nieuwbouw, Verbouwing, Uitbouw, Bijgebouw, Monument, Appartement)**

-   Bouwkundige kenmerken

-   Typische risico\'s

-   Cruciale vragen

-   Vergunningsoverwegingen

-   Functionele uitdagingen

-   Comfort en energie

-   Scenario's en voorbeelden

## **Deel III -- Anticipation Rules (Volledige database)**

Per projecttype, per hoofdstuk:

-   Triggers

-   Vragen

-   Redeneringen

-   Impact

-   Relatie met SystemConflicts

-   Voorbeeldgesprekken

## **Deel IV -- System Conflicts (De volledige intelligentielaag)**

Gegroepeerd in:

1.  Comfort & energieconflicts

2.  Budgetconflicten

3.  Technische/constructieve conflicts

4.  Ruimteprogrammering conflicts

5.  Vergunning & regelgeving conflicts

6.  Duurzaamheid & installaties conflicts

7.  Leefstijl conflicts

## **Deel V -- Behavioral Intelligence**

Bevat:

-   Gedragsprofielen

-   Tone-of-voice matrix

-   StrategieÃ«n per type gebruiker

-   Overwhelm-detectie

-   Decision trees

-   Voorbeeldreacties

## **Deel VI -- Chapter Mapping, Full Index, Appendices**

-   Koppeling van intelligentie aan hoofdstukken

-   Tabellen en matrices

-   Scenario's (volledige cases)

-   Overzicht van alle architectvragen

-   Overzicht van alle inconsistenties

-   Overzicht van alle gebruikerstypen

# 6. **Doelgroep van dit Document**

-   AI-architects

-   Ontwikkelaars

-   Prompt engineers

-   Content strategists

-   UX-designers

-   Bouwkundige adviseurs

Iedereen die werkt aan:

-   AI reasoning

-   chat UX

-   chapter logica

-   contentstructuur

-   kwaliteitsborging

# 7. **Kernprincipes die door de hele KnowledgeBase gelden**

### **7.1 De AI werkt als een senior architect**

Niet als chatbot, maar als professional:

-   gestructureerd

-   adviserend

-   kritisch

-   anticiperend

-   duidelijk

### **7.2 Alles is gekoppeld: ruimtes â†’ techniek â†’ isolatie â†’ ventilatie â†’ budget â†’ regels**

Geen enkel hoofdstuk staat op zichzelf.

### **7.3 De AI mag nooit aannames verzwijgen**

Als iets onzeker is:

"Ik kan dit nog niet volledig beoordelen omdat ..."

### **7.4 Geen hype-taal, geen generiek AI-antwoord**

De toon is:

-   volwassen

-   zakelijk

-   menselijk

-   empathisch

### **7.5 De AI is geen verkoper**

De AI is een *architect*, geen commerciÃ«le funnel.

Er mag geen upsell-tone zijn.

### **7.6 Altijd \"u\" --- nooit \"je\"**

Dit geeft vertrouwen en professionaliteit.

### **7.7 Geen emojis**

Strikte huisstijlregel.

# 8. **Kernopdracht aan de AI (inhoudelijk)**

Help de gebruiker keuzes te maken **zoals een ervaren architect zou doen**\
door:

-   relevante vragen te stellen

-   inconsistenties te signaleren

-   kennis aan te reiken

-   alternatieven te bieden

-   risico's te benoemen

-   en alles te relateren aan budget, regelgeving, comfort en haalbaarheid

# 9. **Samenvatting van Deel I**

De AI-architect bestaat uit vier denk-systemen:

1.  **Anticipation** â†’ vooruitdenken

2.  **System Conflicts** â†’ inconsistenties & risico's zien

3.  **Behavioral Intelligence** â†’ aanpassen aan gebruiker

4.  **Chapter Identity** â†’ structuur & context

Deze KnowledgeBase voedt deze vier systemen met de inhoudelijke logica.

# **DEEL II --- PROJECTTYPE-INTELLIGENTIE (VOLLEDIGE EDITIE)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Dit deel vormt de **inhoudelijke kern** van hoe een menselijke architect projecten beoordeelt.\
Per projecttype staat hier:

-   wat cruciaal is om te weten

-   welke aannames niet gemaakt mogen worden

-   welke risico's typisch zijn

-   welke problemen gebruikers vaak onderschatten

-   welke vragen de AI MOET stellen

-   welke conflictsignalen horen bij dit projecttype

-   waarom

-   en hoe het de rest van de wizard beÃ¯nvloedt

Dit deel voedt direct:

-   **AnticipationEngine**

-   **SystemIntelligence**

-   **Chapter Opening Protocol**

-   **TurnPlanner priority rules**

# ðŸ§± **Overzicht van projecttypes in BRIKX**

1.  **Nieuwbouw (grondgebonden woning)**

2.  **Verbouwing / Renovatie**

3.  **Aanbouw / Uitbouw**

4.  **Bijgebouw / Schuur / Atelier / Mantelzorgwoning**

5.  **Appartement-renovatie**

6.  **Monumentale / Beschermde gebouwen**

7.  **Transformatieprojecten** (bijv. winkel â†’ woning, kantoor â†’ studio)

8.  **Tuin en buitenruimte projecten** (zwembad, veranda, overkapping)

9.  **Technische installatiewijzigingen** (warmtepomp, ventilatie-upgrade)

10. **Compacte projecten** (tiny house, studio, tuinkantoor)

Voor elk projecttype volgt een uitgebreide sectie.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **1. NIEUWBOUW --- INTELLIGENTIESET**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Nieuwbouw lijkt simpel ("je begint from scratch"), maar is dat **inhoudelijk niet**.\
Het is het projecttype met:

-   de meeste ontwerpvrijheid

-   de meeste regelgeving

-   de hoogste kostenimpact

-   de sterkste koppelingen tussen keuzes

## 1.1 Fundamentele inzichten voor nieuwbouw

Een architect moet meteen weten:

-   Is er een **kavelpaspoort**?

-   Wat is de **maximale goothoogte / bouwhoogte / bouwvlak**?

-   Zijn er eisen voor **welstand**, **materialen**, **kleurstellingen**, **hellingshoeken**?

-   Wat is de **oriÃ«ntatie** van het perceel?

-   Wat is de **bodemgesteldheid** (veen / klei / zand â†’ funderingskosten)?

-   Is er een **netcapaciteitsbeperking** voor warmtepomp?

-   Zijn er eisen voor **BENG / TO-juli / duurzaamheidsmaatregelen**?

Deze factoren bepalen:

-   budget

-   ontwerpvrijheid

-   techniek

-   comfort

-   vergunningstracject

## 1.2 Cruciale AI-vragen (Anticipation Rules)

Bij nieuwbouw moet de AI **altijd** binnen de eerste 3 vragen duidelijk hebben:

1.  "Is er een kavelpaspoort of bestemmingsplan beschikbaar?"

2.  "Wat is de gewenste bruto woonoppervlakte (indicatie)?"

3.  "Wat is de oriÃ«ntatie van de belangrijkste gevels?"

4.  "Is duurzaamheid (warmtepomp, PV, isolatie) een harde eis?"

5.  "Zijn er hoogte-, dakvorm- of materiaalrestricties?"

6.  "Hoeveel personen gaan er wonen?"

Waarom?

-   Ontwerp, budget, techniek, vergunningen en duurzaamheid zijn **direct gekoppeld**.

## 1.3 Typische systeemconflicten bij nieuwbouw

### Conflict A: **Ambitie \> Budget**

Nieuwbouw kost in NL in 2025--2030 gemiddeld\
**â‚¬2.000 -- â‚¬2.800 per mÂ² BVO**.

Trigger:

-   gebruiker wil 180 mÂ² maar heeft â‚¬350.000 budget

Conflict:

-   fundering + casco + installaties + afbouw â†’ al â‚¬360--420k

Architect-uitspraak:\
"Uw gewenste oppervlak leidt tot een budgetoverschrijding. Dit komt door vaste kosten zoals fundering en installaties die bij nieuwbouw relatief hoog zijn."

### Conflict B: **Veel glas + verkeerde oriÃ«ntatie**

Triggers:

-   gebruiker wil "veel glas op westen of zuiden"

-   raamoppervlak \> 30% van de geveloppervlakte

-   geen externe zonwering benoemd

Impact:

-   risico op oververhitting â†’ TO-juli norm

-   risico op hogere installatiekosten

Architect-uitspraak:\
"Bij grote glasoppervlakken op west- of zuidzijde ontstaan in de zomer hoge warmtelasten. Dit vereist zonwering, extra isolatie of installatiecapaciteit."

### Conflict C: **Plat dak + hoge isolatie + warmtepomp**

Trigger:

-   gebruiker kiest "warmtepomp, plat dak"

Impact:

-   geluidseisen buitenunit

-   dakbelasting warmtewisselaar

-   koelingsbehoefte door zomeropwarming plat dak

### Conflict D: **Vrijstaand â†’ hogere kosten dan rijwoning**

Trigger:

-   gebruiker zegt "vrijstaand" met rijwoningbudget

Impact:

-   meer buitengevel = hogere schilkosten

-   meer fundering

-   meer installaties

## 1.4 Wat AI altijd moet benoemen bij nieuwbouw

-   "Nieuwbouw vraagt veel ontwerpbeslissingen aan het begin."

-   "OriÃ«ntatie bepaalt comfort en energie."

-   "Budget is sterk mÂ²-gedreven."

-   "Perceelregels beÃ¯nvloeden de vorm, hoogte en plaatsing."

## 1.5 Gedrag van de gebruiker bij nieuwbouw

Typische patronen:

-   Onzeker over regels â†’ vraagt "mag dit?"

-   Overschat ontwerpvrijheid

-   Waardeert visuele ondersteuning (plattegronden)

-   Denkt vaak te laat aan techniek en budget

AI moet:

-   rust geven

-   hoofdstapjes klein houden

-   direct risico's aangeven

-   nooit onzekerheid laten bestaan over BENG/TO-juli

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **2. VERBOUWING / RENOVATIE --- INTELLIGENTIESET**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Dit is het meest complexe projecttype vanwege:

-   bestaande bouw onzichtbaar

-   regelgeving afhankelijk van bestaande situatie

-   kosten onvoorspelbaar

-   verborgen gebreken

-   constructieve risico's

## 2.1 Wat een architect **altijd** moet weten bij renovatie

1.  Zijn er **bestaande tekeningen**?

2.  Wat is **de bouwjaarperiode**?

    -   \<1940: funderingsrisico\'s

    -   1940--1970: koudebruggen

    -   1970--1990: slechte isolatie

    -   1990--2005: matige kierdichting

3.  Is er ooit verbouwd?

4.  Wat is de huidige isolatiekwaliteit?

5.  Is ventilatie aanwezig en voldoende?

6.  Is er sloop nodig? Zo ja:

    -   dragende muren?

    -   staalconstructies nodig?

## 2.2 Belangrijkste anticipatievragen bij renovatie

-   "Heeft u bestaande tekeningen van de huidige situatie?"

-   "Weet u of er dragende wanden zijn op de plek van de gewenste wijziging?"

-   "Is de isolatie van dak/muren/vloer bekend?"

-   "Is er mechanische ventilatie aanwezig?"

-   "Is er een energiedoel (bijv. betere isolatie) voor deze renovatie?"

## 2.3 Typische systeemconflicten

### Conflict A: **Verbouwing van slecht geÃ¯soleerd huis + grote glaswens**

Trigger:

-   gebruiker wil "veel daglicht"

-   woning is voor 1990

-   geen isolatie-upgrade gepland

Impact:

-   grote glasoppervlakken versterken warmteverlies/warmte-instabiliteit

### Conflict B: **Bestaande situatie niet bekend â†’ onduidelijkheid over kosten**

Trigger:

-   geen tekeningen

-   onduidelijk welke muren dragend zijn

-   gebruiker wil "open keuken" of "doorbraak"

Conflict:

-   open keuken kan â‚¬4k of â‚¬18k zijn afhankelijk van constructie

### Conflict C: **Ventilatieproblemen door renovatie**

Trigger:

-   gebruiker wil "extra isoleren" zonder ventilatie

Conflict:

-   luchtdichting neemt toe

-   risico op schimmel, vocht, COâ‚‚-accumulatie

## 2.4 Wat AI altijd moet benoemen bij renovatie

-   "Bij renovaties is de bestaande situatie vaak bepalend."

-   "Comfort en energieverbetering zijn meestal kosten-effectief."

-   "Voor doorbraken moeten we dragende constructies kennen."

-   "Ventilatie is essentieel bij extra isolatie."

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **3. UITBOUW / AANBOUW --- INTELLIGENTIESET**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Een uitbouw lijkt een klein project, maar heeft:

-   constructieve risico's

-   grote impact op daglicht

-   grote invloed op tuin & erfgrenzen

-   vergunningseisen afhankelijk van maat en locatie

## 3.1 Wat AI altijd moet vragen

1.  "Hoe groot wordt de uitbouw (lengte, breedte, hoogte)?"

2.  "Wat is de afstand tot de erfgrens?"

3.  "Wilt u het dak dicht of met lichtstroken?"

4.  "Komt er een doorbraak naar bestaande woning?"

5.  "Heeft u buren die dicht bij uw perceel zitten?"

6.  "Wat is de oriÃ«ntatie van de uitbouw?"

## 3.2 Typische systeemconflicten

### Conflict A: **Uitbouw te diep â†’ te weinig daglicht hoofdruimte**

Trigger:

-   3 meter diepte zonder daklicht

Impact:

-   woonkamer wordt donker

-   warmtelast verandert

-   BENG kan in nieuwbouwsituatie overschreden worden

### Conflict B: **Uitbouw + doorbraak = constructie-ingreep**

Trigger:

-   gebruiker noemt "uitbouw" + "open ruimte" + bouwjaar \< 1980

Impact:

-   vaak staalportaal nodig

-   vloerbalken ondersteunen

-   fundering extra zwaar

### Conflict C: **Te dicht op erfgrens**

Trigger:

-   \< 1 meter

-   bouwwerk â‰  erfafscheiding

Impact:

-   vergunningsplicht

-   burenrecht (licht/inkijk)

-   hittebelasting op gevel

## 3.3 Wat AI altijd moet benoemen

-   "Diepte van uitbouw beÃ¯nvloedt daglicht sterk."

-   "Doorbraken kunnen constructief ingrijpend zijn."

-   "Afstand tot erfgrens bepaalt vergunningstraject."

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **4. BIJGEBOUWEN --- INTELLIGENTIESET**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Bijgebouwen (schuur, garage, atelier, mantelzorgunit) hebben specifieke regels:

## 4.1 Cruciale vragen

1.  "Hoeveel mÂ² heeft u al aan bijgebouwen op het perceel?"

2.  "Moet dit verwarmd worden?"

3.  "Wordt dit gebruikt als woonruimte?"

4.  "Hoe ver staat het bijgebouw van de woning?"

5.  "Is er een zolderverdieping gewenst?"

## 4.2 Typische systeemconflicten

### Conflict A: **Bijgebouw gebruikt als woonruimte**

Trigger:

-   gebruiker noemt "logeerplek", "kantoor", "badkamer"

Impact:

-   mogelijk **strijdig met bestemmingsplan**

-   vergunning vereist

-   isolatie + ventilatie verplicht

-   vloeropbouw vereist

### Conflict B: **Te groot bijgebouw**

Trigger:

-   30--75 mÂ² afhankelijk gemeente

Impact:

-   vergunningsplicht

-   mogelijk welstand

### Conflict C: **Te weinig afstand tot erfgrens**

Impact:

-   brandoverslag-eisen

-   burenrecht

-   vergunningsplicht

## 4.3 Wat AI altijd moet benoemen

-   "Gebruik als woonruimte heeft andere eisen."

-   "Maximaal oppervlak is wettelijk begrensd."

-   "Afstand tot erfgrens essentieel."

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **5. APPARTEMENTEN --- INTELLIGENTIESET**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Appartementen vormen een uniek projecttype:

-   minder vrijheid

-   strengere eisen

-   meer beperkingen door VvE

-   installatietechnisch complex

## 5.1 Cruciale vragen

1.  "Is de VvE betrokken en geeft deze toestemming?"

2.  "Waar zitten leidingen / natte ruimtes bij buren?"

3.  "Is ventilatie centraal of individueel?"

4.  "Zijn draagconstructies bekend?"

5.  "Is er een betonnen dek of houten vloeren?"

## 5.2 Typische systeemconflicten

### Conflict A: **Natte ruimtes verplaatsen**

Trigger:

-   gebruiker wil badkamer/keuken verplaatsen

Impact:

-   vaak technisch niet mogelijk

-   afhankelijk van afschot

-   risico op lekkage

-   VvE weigert vaak

### Conflict B: **Ventilatie is centraal geregeld**

Trigger:

-   gebruiker wil keuken verplaatsen, geen eigen kanaal

Impact:

-   verstoring balans

-   keukenlucht in centraal systeem â†’ mag niet

### Conflict C: **Geluidsoverlast**

Trigger:

-   harde vloer in appartement \< 1990

Impact:

-   contactgeluidnormen

-   burenklachten

-   extra zwevende vloer nodig

## 5.3 Wat AI moet benoemen

-   "Appartementen hebben minder ontwerpvrijheid."

-   "VvE mag wijzigingen weigeren."

-   "Natte ruimtes verplaatsen is vaak complex."

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6. MONUMENTEN & BESCHERMD STADS-/DORPSGEZICHT**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Monumenten hebben:

-   strengste vergunningsregels

-   hogere bouwkosten

-   beperkingen op materiaal en detaillering

## 6.1 Cruciale vragen

1.  "Is dit een gemeentelijk of rijksmonument?"

2.  "Is het interieur ook beschermd?"

3.  "Welke delen zijn beeldbepalend?"

4.  "Bent u bereid een lang vergunningstraject te doorlopen?"

5.  "Mag het dak aangepast worden?"

6.  "Mag het glas vervangen worden?"

## 6.2 Typische systeemconflicten

-   Geen kunststof kozijnen toegestaan

-   Geen dakdoorvoeren zichtbaar toegestaan

-   Warmtepomp buitenunit soms verboden

-   Binnenmuren vaak beeldbepalend

-   Isolatie van binnenuit mogelijk â†’ risico op houtrot

## 6.3 Wat AI altijd moet benoemen

-   "Monumenten vereisen afstemming met de gemeente."

-   "Niet alle duurzame maatregelen zijn toegestaan."

-   "Traject kan langer duren."

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **7. TRANSFORMATIEPROJECTEN**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Bijvoorbeeld: schuur â†’ woning, winkel â†’ studio.

## 7.1 Cruciale vragen

-   "Past woonfunctie binnen bestemmingsplan?"

-   "Is er daglichttoets gehaald?"

-   "Zijn geluidseisen haalbaar?"

-   "Is ventilatie mogelijk?"

-   "Zijn er deuren/ramen toegestaan aan straatzijde?"

## 7.2 Typische conflicts

-   Onvoldoende daglicht

-   Geen ventilatiekanaal mogelijk

-   Geluidbelasting te hoog

-   Voldoet niet aan brandveiligheid

-   Extra isolatie vereist

# **DEEL III --- ANTICIPATION RULES (VOLLEDIGE EDITIE)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## ðŸŽ¯ Doel van deze sectie

Anticipation Rules bepalen **welke vragen de AI moÃ©t stellen vooraf**, nog vÃ³Ã³rdat gebruiker iets verkeerd invult of vastloopt.

Dit is **exact** wat een menselijke architect doet aan tafel:

-   vooruitkijken

-   risico's voorspellen

-   ontbrekende informatie signaleren

-   richting bepalen

De AI vult dus niet alleen in, maar **leidt**.

# â­ Waarom Anticipation Rules zo belangrijk zijn

Zonder deze laag reageert de chatbot **reactief**.\
Met deze laag wordt de AI **proactief**, **veilig**, **efficiÃ«nt** en **vertrouwd**.

Elke Anticipation Rule heeft:

-   een **trigger** op wizardState

-   Ã©Ã©n of meerdere **anticipatoryQuestions**

-   een uitleg **waarom** de vraag belangrijk is

-   een **priority** (critical / high / medium)

-   een optie om te bepalen of deze vraag **direct** moet komen bij chapter opening

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **3.1 STRUCTUUR VAN EEN ANTICIPATION RULE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### Standaard TypeScript-structuur:

export interface AnticipationRule {

id: string;

trigger: (state: WizardState) =\> boolean;

anticipatoryQuestions: string\[\];

reasoning: string;

priority: \"critical\" \| \"high\" \| \"medium\";

appliesTo: ChapterKey\[\]; // bij welke hoofdstukken mag deze afgaan

}

### Belangrijke afspraken:

-   **CRITICAL** = moet *voor* invullen van hoofdstuk

-   **HIGH** = moet *vroeg in hoofdstuk*

-   **MEDIUM** = kan tijdens hoofdstuk gesteld worden

-   Een rule wordt nooit twee keer getriggerd in hetzelfde project

-   Maximaal **1 CRITICAL** tegelijk

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **3.2 COMPLETE SET ANTICIPATION RULES (v3.1)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Hier volgt de **volledige, opgeschoonde, professionele set AnticipationRules**.

Dit is een *canoniek onderdeel* van het Brikx-systeem.

# ðŸ§± **SECTIE A --- BASIS / PROJECTTYPE**

## **A1 -- Renovatie vereist bestaande tekeningen**

**ID:** RENOVATION_NEEDS_EXISTING_DOCS\
**Priority:** critical\
**Chapters:** basis, ruimtes, wensen

**Trigger:**

-   projectType = verbouwing

-   AND geen bestaande tekeningen geÃ¼pload of bevestigd

**Vraag:**\
"Beschikt u over bestaande bouwtekeningen of een plattegrond van de huidige situatie?\"

**Reden:**\
Bij renovaties bepaalt de bestaande situatie 70% van de haalbaarheid.

## **A2 -- Monument vraagt vroegtijdige regelgeving-informatie**

**ID:** MONUMENT_NEEDS_RULES\
**Priority:** high\
**Chapters:** basis, techniek, duurzaam

**Trigger:**

-   projectType = monument of beschermd stadsgezicht

**Vraag:**\
"Kunt u aangeven of het interieur ook onder de monumentale bescherming valt?"

**Reden:**\
Interieur-bescherming beÃ¯nvloedt isolatie, installaties, doorbraken en materiaalgebruik.

## **A3 -- Bijgebouw mogelijk strijdig met woongebruik**

**ID:** ANNEX_MAY_BE_LIVING_SPACE\
**Priority:** critical\
**Chapters:** basis, ruimtes

**Trigger:**

-   projectType = bijgebouw

-   user noemt badkamer â†’ slaapruimte â†’ keuken

**Vraag:**\
"Wordt dit bijgebouw gebruikt als verblijfsruimte (werken, slapen, gasten)?"

**Reden:**\
Woongebruik heeft andere wettelijke eisen en kan vergunning plichtig zijn.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE B --- BUDGET & OPPERVLAKTE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **B1 -- Budget vereist vÃ³Ã³r invul van ruimtes**

**ID:** BUDGET_BEFORE_ROOMS\
**Priority:** high\
**Chapters:** ruimtes, wensen, techniek

**Trigger:**

-   ruimtes worden ingevuld

-   maar budget is leeg

**Vraag:**\
"Wilt u aangeven wat het totale budget is dat u voor ogen heeft?"

**Reden:**\
Zonder budget geen realistische ruimteplanning.

## **B2 -- Groot aantal ruimtes â†’ vraag naar totale mÂ²**

**ID:** ROOMCOUNT_REQUIRES_AREA\
**Priority:** high\
**Chapters:** ruimtes

**Trigger:**

-   gebruiker voegt â‰¥ 4 ruimtes toe

-   maar geen totale mÂ² bekend

**Vraag:**\
"Heeft u een idee van het totale oppervlak dat u wenst te realiseren?"

**Reden:**\
mÂ²-gestuurd ontwerp is essentieel voor kosten en haalbaarheid.

## **B3 -- Onrealistisch klein budget**

**ID:** BUDGET_TOO_LOW_FOR_PROJECTTYPE\
**Priority:** critical\
**Chapters:** basis, budget

**Trigger:**

-   projectType = nieuwbouw

-   budget \< â‚¬200.000

OF

-   projectType = verbouwing

-   budget \< â‚¬20.000 maar user noemt grote aanpassingen

**Vraag:**\
"Wilt u bevestigen dat uw budget inderdaad â‚¬X bedraagt? Dit lijkt beperkt voor de omvang van uw plannen."

**Reden:**\
Voorkomt later teleurstelling / conflicten.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE C --- RUIMTES & DAGLICHT**

## **C1 -- Groot glasoppervlak vereist ventilatie-info**

**ID:** GLASS_REQUIRES_VENTILATION\
**Priority:** high\
**Chapters:** ruimtes, techniek

**Trigger:**

-   ruimte heeft wens "veel glas"

-   -   er is geen ventilatie-informatie

**Vraag:**\
"Wilt u aangeven welke ventilatievoorziening aanwezig is of gewenst is?"

**Reden:**\
Veel glas â†’ condens â†’ warmtevariatie â†’ ventilatie cruciaal.

## **C2 -- Diepe uitbouw vereist daglicht-check**

**ID:** EXTENSION_NEEDS_DAYLIGHT\
**Priority:** critical\
**Chapters:** ruimtes

**Trigger:**

-   uitbouw \> 3 meter

-   geen daklicht genoemd

**Vraag:**\
"Wilt u daklichten of lichtstroken overwegen om voldoende daglicht te behouden?"

**Reden:**\
Diepe uitbouwen leiden anders tot donkere hoofdruimtes.

## **C3 -- Slaapkamers: oriÃ«ntatie noodzakelijk**

**ID:** BEDROOMS_REQUIRE_ORIENTATION\
**Priority:** medium\
**Chapters:** ruimtes

**Trigger:**

-   ruimte type = slaapkamer

-   geen oriÃ«ntatie genoemd

**Vraag:**\
"In welke richting kijkt deze slaapkamer idealiter uit (oost/zuid/west/noord)?"

**Reden:**\
Comfort, opwarming, lichtbeleving.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE D --- TECHNIEK & INSTALLATIES**

## **D1 -- Isolatie-upgrade vereist ventilatie-check**

**ID:** INSULATION_REQUIRES_VENTILATION\
**Priority:** critical\
**Chapters:** techniek, duurzaam

**Trigger:**

-   gebruiker kiest "isolatie verbeteren"

-   ventilatie = onbekend of "geen idee"

**Vraag:**\
"Is er mechanische ventilatie aanwezig, of wilt u deze meenemen in de plannen?"

**Reden:**\
Hogere luchtdichtheid â†’ risico op vochtproblemen.

## **D2 -- Warmtepomp + radiatoren â†’ aanvullende vraag**

**ID:** HEATPUMP_NEEDS_LOWTEMP_SYSTEM\
**Priority:** high\
**Chapters:** techniek

**Trigger:**

-   gebruiker kiest warmtepomp

-   maar afgiftesysteem = radiatoren (oud)

**Vraag:**\
"Zijn uw radiatoren geschikt voor lage temperatuur verwarming (LT-systeem)?"

**Reden:**\
Warmtepomp functioneert slecht met hoogtemperatuurradiatoren.

## **D3 -- Bestaande woning + vloerverwarming â†’ opbouwhoogte**

**ID:** FLOORHEATING_REQUIRES_HEIGHT_INFO\
**Priority:** medium\
**Chapters:** techniek

**Trigger:**

-   gebruiker kiest vloerverwarming

-   projectType â‰  nieuwbouw

**Vraag:**\
"Heeft u voldoende vloeropbouwhoogte om vloerverwarming toe te passen?"

**Reden:**\
Vloeropbouw vaak beperkt, zeker in appartementen.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE E --- APPARTEMENTEN**

## **E1 -- VvE toestemming vooraf essentieel**

**ID:** APARTMENT_NEEDS_HOA_APPROVAL\
**Priority:** critical\
**Chapters:** basis, ruimtes, techniek

**Trigger:**

-   projectType = appartement

**Vraag:**\
"Is de VvE op de hoogte van deze plannen en geeft zij toestemming voor wijzigingen?"

**Reden:**\
VvE kan vrijwel alles blokkeren.

## **E2 -- Natte ruimte verplaatsen**

**ID:** WETROOM_RELOCATION_CHECK\
**Priority:** critical\
**Chapters:** ruimtes

**Trigger:**

-   gebruiker wil keuken/badkamer verplaatsen

**Vraag:**\
"Weet u waar de bestaande afvoeren en standleidingen zich bevinden?"

**Reden:**\
Keuken/badkamer verplaatsen is vaak technisch onmogelijk.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE F --- MONUMENTEN**

## **F1 -- Isolatie-beperkingen monument**

**ID:** MONUMENT_INSULATION_LIMITS\
**Priority:** high\
**Chapters:** techniek, duurzaam

**Trigger:**

-   projectType = monument

-   gebruiker noemt isolatie

**Vraag:**\
"Heeft u al inzicht in welke delen van het gebouw monumentaal beschermd zijn?"

**Reden:**\
Isolatie mag vaak niet aan buitenzijde.

## **F2 -- Dakaanpassing monument**

**ID:** MONUMENT_ROOF_RESTRICTIONS\
**Priority:** high\
**Chapters:** techniek

**Trigger:**

-   gebruiker noemt dakwijzigingen

**Vraag:**\
"Is bekend welke elementen van het dak beeldbepalend zijn?"

**Reden:**\
Dakvlak vaak beschermd.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE G --- GEZINSSITUATIE & COMFORT**

## **G1 -- Gezin + 1 badkamer â†’ bottleneck**

**ID:** FAMILY_BATHROOM_BOTTLENECK\
**Priority:** high\
**Chapters:** ruimtes

**Trigger:**

-   lifestyleProfile bevat "gezin"

-   aantal badkamers â‰¤ 1

**Vraag:**\
"Hoe verloopt de ochtendspits? Overweegt u een extra toilet of douche?"

**Reden:**\
Comfortconflict, wachttijden, stress.

## **G2 -- Thuiswerken vereist rustige plek**

**ID:** HOME_OFFICE_REQUIRED\
**Priority:** medium\
**Chapters:** ruimtes, wensen

**Trigger:**

-   lifestyleProfile = thuiswerken

-   gebruiker noemt geen werkkamer

**Vraag:**\
"Heeft u een aparte rustige werkplek nodig?"

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **SECTIE H --- OVERIGE**

## **H1 -- Doorbraak vereist constructie-info**

**ID:** BREAKTHROUGH_NEEDS_STRUCTURAL_INFO\
**Priority:** critical\
**Chapters:** ruimtes

**Trigger:**

-   gebruiker noemt "muur weghalen"

-   bouwjaar \< 1990

**Vraag:**\
"Is bekend of deze muur dragend is?"

**Reden:**\
Kernveiligheid.

## **H2 -- Zolderverbouwing vereist hoogte-info**

**ID:** ATTIC_HEIGHT_CHECK\
**Priority:** high\
**Chapters:** ruimtes

**Trigger:**

-   ruimte: zolder

-   geen hoogte bekend

**Vraag:**\
"Kunt u de nokhoogte en minimale stahoogte van de zolder aangeven?"

## **H3 -- Ventilatie in oude woning**

**ID:** OLD_HOUSE_NO_VENTILATION\
**Priority:** medium\
**Chapters:** techniek

**Trigger:**

-   bouwjaar \< 1970

-   geen ventilatie-informatie

**Vraag:**\
"Weet u of er mechanische ventilatie aanwezig is?"

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **3.3 PRIORITEITSSYSTEEM (ESSENTIEEL)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### **CRITICAL**

-   Mag *altijd* onderbreken

-   Wordt *bij chapter opening* gesteld

-   Max 1 tegelijk

-   Betreft: veiligheid, vergunning, grote kostenrisico's

### **HIGH**

-   Wordt vroeg in het hoofdstuk gesteld

-   Mag pas nÃ¡ CRITICAL

-   Betreft: comfort, daglicht, energie, functionele haalbaarheid

### **MEDIUM**

-   Mag later in hoofdstuk

-   Niet urgent

-   Betreft: voorkeuren, details

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **3.4 INTEGRATIE MET DE ARCHITECT AI-LAAG**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### In TurnPlanner:

-   critical â†’ goal = anticipate_and_guide

-   high â†’ goal = clarify_and_continue

-   medium â†’ goal = contextualize

### In Chapter Opening Protocol:

-   critical anticipation komt **altijd als eerste vraag**

# **DEEL IV --- SYSTEM CONFLICTS (VOLLEDIGE EDITIE)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## ðŸŽ¯ Doel van deze module

SystemConflicts zijn **multidisciplinaire tegenstrijdigheden** die een gebruiker zelf meestal niet ziet, maar die een menselijke architect **altijd** signaleert.

Voorbeelden:

-   "Veel glas + slechte isolatie"

-   "Ambities \> Budget"

-   "Natte ruimte verplaatsen in appartement"

-   "Uitbouw te diep â†’ daglichtverlies"

-   "Warmtepomp + radiatoren â†’ systeem past niet"

Deze module:

-   voorkomt dure fouten

-   maakt de AI professioneel, betrouwbaar, adviserend

-   bouwt vertrouwen op

-   maakt de wizard intelligenter dan een invuloefening

SystemConflicts zijn **altijd** cross-chapter.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **4.1 STRUCTUUR VAN EEN SYSTEM CONFLICT**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### TypeScript-definitie

export interface SystemConflict {

id: string;

severity: \"blocking\" \| \"warning\" \| \"info\";

involvedChapters: ChapterKey\[\];

description: string;

technicalExplanation: string;

options: {

label: string;

impact: string;

estimatedCost?: string;

}\[\];

detect: (state: WizardState) =\> boolean;

}

### Betekenis van severity:

  ------------------------------------------------------------------------------------
  **Severity**   **Betekenis**                     **Actie in TurnPlanner**
  -------------- --------------------------------- -----------------------------------
  **blocking**   Moet NU worden opgelost           Onderbreekt hoofdstuk, priority 1

  **warning**    Belangrijk maar niet kritisch     Wordt vroeg benoemd

  **info**       Inzichtelijk maar niet dringend   Later in gesprek
  ------------------------------------------------------------------------------------

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **4.2 VOLLEDIGE SET SYSTEM CONFLICTS (v3.1)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

We behandelen ze per thema:

1.  **Budget vs Ambities**

2.  **Daglicht & Glas**

3.  **Isolatie & Ventilatie**

4.  **Installaties (warmtepomp, radiatoren, vloerverwarming)**

5.  **Renovatie & Constructie**

6.  **Appartement-specifiek**

7.  **Uitbouw & Daglicht**

8.  **Bijgebouwen & Regelgeving**

9.  **Zolder & Hoogtebeperkingen**

10. **Duurzaamheid & Regelgeving**

11. **Monument-beperkingen**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 1 --- BUDGET & AMBITIES**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 1A --- Must-haves passen niet in budget**

**ID:** MUSTHAVE_EXCEEDS_BUDGET\
**Severity:** blocking\
**Chapters:** wensen, budget, ruimtes

**Detect:**

detect: (state) =\> {

const mustHaves = state.wensen?.wishes?.filter(w =\> w.priority === \"must\") \|\| \[\];

const cost = estimateCost(mustHaves);

const budget = state.budget?.budgetTotaal \|\| 0;

return cost \> budget;

}

**Beschrijving:**\
Gebruiker heeft must-have wensen die gezamenlijk meer kosten dan het budget.

**Architect-uitleg:**\
"De wensen die u als essentieel heeft aangemerkt, vallen buiten het beschikbare budget. Zonder keuzes te maken blijft dit ontwerp onhaalbaar."

**Opties:**

-   Must-haves heroverwegen

-   Budget verhogen

-   Gefaseerd bouwen

## **Conflict 1B --- Ambities \> Budget (algemene overschrijding)**

**ID:** AMBITION_BUDGET_MISMATCH\
**Severity:** warning / blocking bij extreme mismatch

**Detect:**

detect: (state) =\> {

const est = estimateAmbitionCost(state);

const budget = state.budget?.budgetTotaal \|\| 0;

return est \> budget \* 1.25;

}

**Opties:**

-   MÂ² verminderen

-   Kwaliteit/materialen aanpassen

-   Gefaseerd bouwen

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 2 --- DAGLICHT & GLAS**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 2A --- Veel glas + slechte isolatie**

**ID:** GLASS_WITHOUT_INSULATION\
**Severity:** warning

**Detect:**

detect: (state) =\>

hasLargeGlazedArea(state.ruimtes) &&

state.techniek?.isolatie === \"bestaand\"

**Architect-uitleg:**\
"Grote glasoppervlakken zonder goede isolatie leiden tot hitte in zomer en koude in winter."

**Opties:**

-   Eerst isoleren

-   Minder glas

-   Zonwering toevoegen

## **Conflict 2B --- Uitbouw te diep â†’ daglichtverlies**

**ID:** EXTENSION_TOO_DEEP_DARK_ROOM\
**Severity:** critical

**Detect:**

detect: (state) =\> {

const ext = state.ruimtes?.rooms?.find(r =\> r.type === \"uitbouw\");

return ext && ext.m2 && ext.diepte \> 3 && !state.ruimtes?.heeftDaklicht;

};

**Opties:**

-   Daklichten

-   Lichtstroken

-   Minder diepte

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 3 --- ISOLATIE & VENTILATIE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 3A --- Isolatie verbeteren zonder ventilatie**

**ID:** ISOLATION_NO_VENTILATION\
**Severity:** critical

**Detect:**

detect: (state) =\>

state.techniek?.isolatieVerbeteren === true &&

!state.techniek?.ventilatie

**Uitleg:**\
Risico op vocht, schimmel, COâ‚‚-ophoping.

## **Conflict 3B --- Oude woning + geen mechanische ventilatie**

**ID:** OLDHOUSE_NEEDS_VENTILATION\
**Severity:** warning

**Detect:**

detect: (state) =\>

state.basis?.bouwjaar \< 1970 &&

!state.techniek?.ventilatie

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 4 --- INSTALLATIES**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 4A --- Warmtepomp + radiatoren = inefficiÃ«nt**

**ID:** HEATPUMP_INCOMPATIBLE_RADIATORS\
**Severity:** high

**Detect:**

detect: (state) =\>

state.techniek?.verwarming === \"warmtepomp\" &&

state.techniek?.afgifteSysteem === \"radiatoren\"

## **Conflict 4B --- Warmtepomp + klein budget**

**ID:** HEATPUMP_HIGH_COST\
**Severity:** info

**Uitleg:**\
Warmtepompen verhogen kosten met â‚¬12k--â‚¬22k.

## **Conflict 4C --- Vloerverwarming maar onvoldoende vloerhoogte**

**ID:** FLOORHEATING_HEIGHT_PROBLEM\
**Severity:** warning

**Detect:**

detect: (state) =\>

state.techniek?.vloerverwarming &&

state.basis?.projectType !== \"nieuwbouw\" &&

!state.techniek?.vloerOpbouwHoogte

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 5 --- RENOVATIE & CONSTRUCTIE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 5A --- Doorbraak maar dragende status onbekend**

**ID:** UNKNOWN_STRUCTURAL_WALL\
**Severity:** critical

**Detect:**

detect: (state) =\>

state.ruimtes?.rooms?.some(r =\> r.wensen?.includes(\"open keuken\")) &&

!state.bouw?.dragendeInfo

## **Conflict 5B --- Geen tekeningen + renovatie**

**ID:** RENOVATION_NO_DRAWINGS\
**Severity:** high

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 6 --- APPARTEMENTEN**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 6A --- Natte ruimte verplaatsen niet haalbaar**

**ID:** WETROOM_RELOCATION_IMPOSSIBLE\
**Severity:** critical

**Detect:**

detect: (state) =\>

state.basis?.projectType === \"appartement\" &&

state.ruimtes?.rooms?.some(r =\> r.type === \"badkamer\" && r.verplaatsen === true)

## **Conflict 6B --- Ventilatie centraal geregeld**

**ID:** CENTRAL_VENTILATION_RESTRICTION\
**Severity:** high

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 7 --- UITBOUW / BIJGEBOUW**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 7A --- Bijgebouw als woonruimte is vergunningplichtig**

**ID:** ANNEX_LIVING_REQUIRES_PERMIT\
**Severity:** critical

## **Conflict 7B --- Te dicht op erfgrens**

**ID:** ANNEX_TOO_CLOSE_TO_BORDER\
**Severity:** high

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 8 --- ZOLDER / HOOGTE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 8A --- Zolder geen stahoogte**

**ID:** ATTIC_NO_HEIGHT\
**Severity:** warning

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **TEMA 9 --- DUURZAAMHEID**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **Conflict 9A --- PV-panelen + beperkte dakruimte**

**ID:** PV_INSUFFICIENT_SURFACE\
**Severity:** info

## **Conflict 9B --- Warmtepomp verboden in beschermd gebied**

**ID:** HERITAGE_HEATPUMP_RESTRICTION\
**Severity:** high

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **4.3 PRIORITEITSMATRIX**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

**TurnPlanner beslist volgens deze matrix:**

  -------------------------------------------------------------------------------------------
  **Conflictgroep**   **Voorbeeld**                   **Severity**       **TurnPlan Goal**
  ------------------- ------------------------------- ------------------ --------------------
  Veiligheid          dragende muur onbekend          blocking           surface_risks

  Vergunningen        bijgebouw als woning            blocking           surface_risks

  Comfort             daglicht, badkamer bottleneck   warning            offer_alternatives

  Energie             glas + isolatie                 warning            offer_alternatives

  FinanciÃ«n           budgetmismatch                  warning/blocking   clarify_budget

  Installaties        warmtepomp mismatch             high               ask_clarifying
  -------------------------------------------------------------------------------------------

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **4.4 INTEGRATIE MET DE ARCHITECT INTELLIGENCE LAYER**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### SystemConflicts worden gebruikt in:

-   **Chapter Opening Protocol**

-   **TurnPlanner Priority Matrix**

-   **ResponseOrchestrator tone & structure**

-   **AnswerGuard compliance-check**

### Workflow:

const conflicts = await SystemIntelligence.detectConflicts(state);

if (conflicts.some(c =\> c.severity === \"blocking\")) {

return turnPlan = {

goal: \"surface_risks\",

tone: \"direct\",

importantTriggers: conflicts.filter(c =\> c.severity === \"blocking\").map(c =\> c.id)

};

}

# **DEEL V --- BEHAVIORAL INTELLIGENCE (USER PROFILING & ADAPTIVE TONE)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## ðŸŽ¯ Doel van deze module

Behavioral Intelligence zorgt ervoor dat Jules zich **aanpast aan de persoon achter het scherm**:

-   Praat je met een gestreste starter die totaal geen idee heeft waar te beginnen?

-   Of met een ervaren bouwer die vooral snel door wil?

De **zelfde inhoud** moet op een **andere manier** gebracht worden.

Deze module levert een **UserBehaviorProfile** dat door **TurnPlanner** en **ResponseOrchestrator** gebruikt wordt om:

-   de **tone of voice** te kiezen (warm, coach, direct, expert)

-   de **doelstelling van de beurt** te kiezen (rustig uitleggen, doorpakken, alternatieven aanbieden)

-   de **vorm** van de vraag aan te passen (Ã©Ã©n vraag tegelijk vs. A/B/C keuze, samenvatten vs. pushen)

## 5.1 Kernconcept: UserBehaviorProfile

### TypeScript-interface

export type ExperienceLevel = \"starter\" \| \"enigszins\" \| \"ervaren\";

export type PaceLevel = \"slow\" \| \"moderate\" \| \"fast\";

export type ConfidenceLevel = \"uncertain\" \| \"exploring\" \| \"decisive\";

export type OverwhelmLevel = \"none\" \| \"slight\" \| \"significant\";

export type ActionLevel = \"low\" \| \"medium\" \| \"high\";

export interface UserBehaviorProfile {

experience: ExperienceLevel;

pace: PaceLevel;

confidence: ConfidenceLevel;

overwhelm: OverwhelmLevel;

actionLevel: ActionLevel;

}

## 5.2 BehaviorAnalyzer -- van turns naar profiel

### Doel

Deze module analyseert:

-   **conversation_history** (laatste N turns)

-   **wizardState** (hoeveel is er ingevuld)

...en construeert een **UserBehaviorProfile**.

### Bestand

lib/ai/BehaviorAnalyzer.ts

### Hoofdfunctie

export async function analyzeUserBehavior(

memory: ConversationMemory,

wizardState: WizardState

): Promise\<UserBehaviorProfile\> {

const turns = await memory.load(); // Laatste \~20 turns

return inferProfileFromTurns(turns, wizardState);

}

### Heuristieken (v1.0 -- deliberate, maar simpel)

#### 1. Ervaring (experience)

Bronnen:

-   Expliciete vraag in intake/basis: basis.ervaringBouwer

    -   bv. \"eerste keer\" \| \"eerder verbouwd\" \| \"professioneel\"

-   Taalpatronen in user-berichten:

    -   Starter: "geen idee", "waar begin ik", "klinkt ingewikkeld"

    -   Ervaren: "vergunning op 2.1 lid 3", "dragend", "bestemmingsplan"

function inferExperience(turns: ConversationTurn\[\], state: WizardState): ExperienceLevel {

const explicit = state.basis?.ervaring as ExperienceLevel \| undefined;

if (explicit) return explicit;

const text = turns.filter(t =\> t.role === \"user\").map(t =\> t.message.toLowerCase()).join(\" \");

const starterPatterns = \[/geen idee/, /waar begin/, /help/, /klinkt ingewikkeld/\];

const expertPatterns = \[/bestemmingsplan/, /omgevingsplan/, /vergunningsvrij/, /rc-waarde/, /dragend/\];

if (expertPatterns.some(rx =\> rx.test(text))) return \"ervaren\";

if (starterPatterns.some(rx =\> rx.test(text))) return \"starter\";

return \"enigszins\";

}

#### 2. Tempo (pace)

Gebaseerd op:

-   gemiddelde lengte van user-berichten

-   tijd tussen berichten (optioneel als we timestamps loggen)

function inferPace(turns: ConversationTurn\[\]): PaceLevel {

const userTurns = turns.filter(t =\> t.role === \"user\");

if (userTurns.length === 0) return \"moderate\";

const avgLength =

userTurns.reduce((sum, t) =\> sum + t.message.length, 0) / userTurns.length;

if (avgLength \< 20) return \"fast\";

if (avgLength \> 120) return \"slow\";

return \"moderate\";

}

#### 3. Zelfvertrouwen (confidence)

Zoek naar onzekerheids-taal:

-   "ik weet het niet", "geen idee", "misschien", "twijfel", "niet zeker"

function inferConfidence(turns: ConversationTurn\[\]): ConfidenceLevel {

const userTurns = turns.filter(t =\> t.role === \"user\");

const matches = userTurns.filter(t =\>

/weet.\*niet\|geen idee\|misschien\|twijfel\|niet zeker\|onzeker/i.test(t.message)

).length;

if (matches \>= 3) return \"uncertain\";

if (matches \>= 1) return \"exploring\";

return \"decisive\";

}

#### 4. Overwhelm (overwhelm)

Zoek naar woorden als:

-   "te veel", "overweldigd", "krijg het niet rond", "te ingewikkeld", "moeilijk", "ik snap het niet"

function inferOverwhelm(turns: ConversationTurn\[\]): OverwhelmLevel {

const userTurns = turns.filter(t =\> t.role === \"user\");

const matches = userTurns.filter(t =\>

/te veel\|overweldig\|te ingewikkeld\|moeilijk\|ik snap het niet\|ik raak het kwijt/i.test(

t.message

)

).length;

if (matches \>= 2) return \"significant\";

if (matches === 1) return \"slight\";

return \"none\";

}

#### 5. Actieniveau (actionLevel)

Kijkt naar verhouding:

-   hoeveel wordt er **daadwerkelijk ingevuld** (patches)

-   vs. hoeveel er alleen gepraat wordt (chat zonder state-change)

function inferActionLevel(turns: ConversationTurn\[\]): ActionLevel {

const assistantTurns = turns.filter(t =\> t.role === \"assistant\");

if (assistantTurns.length === 0) return \"medium\";

const totalPatches = assistantTurns.reduce(

(sum, t) =\> sum + (t.patchesApplied?.length \|\| 0),

0

);

const ratio = totalPatches / assistantTurns.length;

if (ratio \< 0.3) return \"low\"; // Veel praten, weinig invullen

if (ratio \> 0.7) return \"high\"; // Veel invullen, weinig praten

return \"medium\";

}

#### Samenvattende helper

export function inferProfileFromTurns(

turns: ConversationTurn\[\],

state: WizardState

): UserBehaviorProfile {

return {

experience: inferExperience(turns, state),

pace: inferPace(turns),

confidence: inferConfidence(turns),

overwhelm: inferOverwhelm(turns),

actionLevel: inferActionLevel(turns),

};

}

## 5.3 Mapping naar TurnTone & TurnGoal

BehaviorProfile beÃ¯nvloedt daarna:

-   **tone** -- *hoe* Jules spreekt

-   **goal** -- *wat* Jules in deze beurt probeert te bereiken

### TurnTone (nieuw)

export type TurnTone = \"expert\" \| \"warm\" \| \"coach\" \| \"direct\";

**Vuistregels:**

-   overwhelm = significant â†’ toon = \"warm\"

-   confidence = uncertain â†’ toon = \"coach\"

-   pace = fast + experience = ervaren â†’ toon = \"direct\"

-   Anders standaard \"expert\"

### TurnGoal (uit eerder protocol, nu verrijkt)

export type TurnGoal =

\| \"fill_data\"

\| \"surface_risks\"

\| \"anticipate_and_guide\"

\| \"offer_alternatives\"

\| \"clarify\"

\| \"summarize_and_next_step\";

**Vuistregels i.c.m. gedrag:**

-   actionLevel = low â†’ vaker \"summarize_and_next_step\" (activeren)

-   confidence = uncertain â†’ \"offer_alternatives\" (A/B/C)

-   overwhelm != none â†’ geen grote blokken info, eerder \"clarify\" of 1 stap tegelijk

### Implementatie in TurnPlanner

Bestand: lib/ai/TurnPlanner.ts

Simplified sketch -- gedrag-module invloed:

export function planTurn(

triage: TriageResult,

behavior: UserBehaviorProfile,

anticipation: AnticipationRule\[\],

conflicts: SystemConflict\[\]

): TurnPlan {

// Eerst system conflicts / anticipation (zie Deel IV + Anticipation)

const basePlan = determinePriority(triage, anticipation, conflicts, behavior);

// Daarna tone finetunen

let tone: TurnTone = \"expert\";

if (behavior.overwhelm === \"significant\") {

tone = \"warm\";

} else if (behavior.confidence === \"uncertain\") {

tone = \"coach\";

} else if (behavior.pace === \"fast\" && behavior.experience === \"ervaren\") {

tone = \"direct\";

}

// Goal bijsturen als gedrag daarom vraagt

let goal: TurnGoal = basePlan.goal;

if (behavior.actionLevel === \"low\" && basePlan.goal === \"fill_data\") {

goal = \"summarize_and_next_step\"; // eerst samenvatten, dan concrete vervolgstap

} else if (behavior.confidence === \"uncertain\" && basePlan.goal === \"fill_data\") {

goal = \"offer_alternatives\"; // A/B/C keuzes bieden i.p.v. open vraag

}

return {

\...basePlan,

goal,

tone,

behaviorProfile: behavior,

};

}

## 5.4 Tone Guidelines voor de LLM (Prompt Pack-koppeling)

BehaviorProfile + TurnTone sturen een **duidelijke instructiemodule** in de prompt.

### Basisblokken (in Prompt Pack v4.1)

ALS tone = \"expert\":

\- Spreek zakelijk, helder en onderbouwd.

\- Geen verkleinwoorden, geen luchtige grapjes.

\- Leg kort maar concreet uit waarom iets belangrijk is.

ALS tone = \"warm\":

\- Neem iets meer tijd in de formulering.

\- Benoem dat het logisch is dat iemand twijfelt.

\- Splits complexe informatie in kleine, behapbare stappen.

ALS tone = \"coach\":

\- Geef 2--3 opties en laat de gebruiker kiezen.

\- Benoem expliciet: \"Beide routes zijn mogelijk, het hangt af van uw voorkeur.\"

\- Bevestig dat elke stap vooruitgang is.

ALS tone = \"direct\":

\- Houd antwoorden kort en taakgericht.

\- Vermijd lange context, ga snel naar de kern.

\- Gebruik zinnen zoals \"Kort samengevat\...\" en \"Concreet betekent dit:\".

### Gedrag-naar-prompt snippet (ResponseOrchestrator)

const toneInstructions = (() =\> {

switch (turnPlan.tone) {

case \"warm\":

return \"Spreek rustig en bemoedigend. U legt uit in kleine stappen en bevestigt dat twijfel normaal is.\";

case \"coach\":

return \"Spreek als een coach: geef opties (A/B/C), en leg kort uit wat de gevolgen zijn. Uw doel is vertrouwen opbouwen.\";

case \"direct\":

return \"Spreek kort en zakelijk. Geen lange inleidingen, snel naar de kern. Geef concrete vervolgstappen.\";

case \"expert\":

default:

return \"Spreek als een ervaren architect: helder, professioneel, met korte onderbouwing.\";

}

})();

const behaviorContext = \`

GEBRUIKERSPROFIEL:

\- Ervaring: \${behavior.experience}

\- Tempo: \${behavior.pace}

\- Zelfvertrouwen: \${behavior.confidence}

\- Overweldiging: \${behavior.overwhelm}

\- Actieniveau: \${behavior.actionLevel}

TONE:

\${toneInstructions}

VERPLICHT:

\- Gebruik uitsluitend \'u\' / \'uw\'.

\- Geen emojis.

\- Pas hoeveelheid informatie aan op het profiel.

\`;

Dit blok gaat in de **system message** van de LLM prompt.

## 5.5 Gedragsgebaseerde micro-strategieÃ«n

Naast toon en doel kun je gedrag ook gebruiken voor **micro-beslissingen**:

### 1. Aantal vragen per beurt

-   overwhelm = significant â†’ max **1 vraag per bericht**

-   experience = starter â†’ geen combinaties als "budget + wensen + risico" in Ã©Ã©n beurt

-   experience = ervaren + pace = fast â†’ meerdere vragen in Ã©Ã©n bericht toegestaan

### 2. Vorm van vragen

-   confidence = uncertain â†’ altijd eerst samenvatten wat gebruiker al zei:\
    "Als ik u goed begrijp wilt u X en Y. Klopt dat?"

-   actionLevel = low â†’ vaker:\
    "Zal ik een voorstel doen op basis van wat u al heeft ingevuld?"

### 3. Uitleg vs. beslissen

-   experience = starter + overwhelm != none\
    â†’ eerst uitleg, dan vraag

-   experience = ervaren + confidence = decisive\
    â†’ meer keuzestellingen:\
    "Optie A: ... Optie B: ... Wat heeft uw voorkeur?"

Deze regels komen terug in de prompt tekst in de Prompt Pack, maar kunnen ook deels direct in de code worden geÃ¯nstrueerd via kleine flags:

export interface TurnPlan {

goal: TurnGoal;

tone: TurnTone;

behaviorProfile: UserBehaviorProfile;

requiredActions: RequiredAction\[\];

allowPatches: boolean;

importantTriggers: string\[\];

// Gedragsafgeleide hints

maxQuestionsPerTurn?: number;

preferOptionsOverOpenQuestions?: boolean;

}

type RequiredAction =

\| \"break_down_into_steps\"

\| \"offer_options\"

\| \"explain_reasoning\"

\| \"acknowledge_frustration\";

Mapping:

const requiredActions: RequiredAction\[\] = \[\];

if (behavior.overwhelm !== \"none\") {

requiredActions.push(\"break_down_into_steps\");

}

if (behavior.confidence === \"uncertain\") {

requiredActions.push(\"offer_options\", \"explain_reasoning\");

}

if (detectExtremeFrustration(turns)) {

requiredActions.push(\"acknowledge_frustration\");

}

turnPlan.requiredActions = requiredActions;

turnPlan.maxQuestionsPerTurn = behavior.overwhelm === \"significant\" ? 1 : 2;

turnPlan.preferOptionsOverOpenQuestions = behavior.confidence === \"uncertain\";

Deze flags worden vervolgens **expliciet** in de LLM prompt vertaald:

REQUIRED ACTIONS (VERPLICHT):

\- \${requiredActions.join(\", \")}

AANTAL VRAGEN:

\- Maximaal \${maxQuestionsPerTurn} vraag/vraagstukken in dit antwoord.

VORM:

\- \${preferOptionsOverOpenQuestions ? \"Gebruik bij voorkeur A/B/C-keuzes in plaats van open vragen.\" : \"Open vragen zijn toegestaan.\"}

## 5.6 Extreme cases: frustratie-detectie (conservatief)

We willen **geen "AI-psycholoog" spelen**, maar wÃ©l voorkomen dat iemand enorm gefrustreerd raakt zonder enige erkenning.

### Detectie (enkel voor duidelijke gevallen)

function detectExtremeFrustration(turns: ConversationTurn\[\]): boolean {

const lastUserTurns = turns.filter(t =\> t.role === \"user\").slice(-5);

const frustrationKeywords = \[

\"kut\",

\"shit\",

\"waardeloos\",

\"stom systeem\",

\"dit werkt niet\",

\"ik word hier gek van\",

\"heel irritant\",

\"ik haat dit\"

\];

const frustrated = lastUserTurns.filter(t =\>

frustrationKeywords.some(kw =\> t.message.toLowerCase().includes(kw))

).length;

return frustrated \>= 2;

}

### Effect

Als detectExtremeFrustration = true:

-   tone geforceerd naar \"direct\" of \"warm\" (geen verkooppraat, geen meta, gewoon helpen)

-   requiredActions bevat \"acknowledge_frustration\"

Prompt-instructie:

Als gebruiker duidelijk gefrustreerd is:

\- Benoem kort dat u merkt dat dit lastig is.

\- Geen excuses-stapel, geen defensief taalgebruik.

\- Herpak direct naar een eenvoudige, concrete stap.

Voorbeeldstijl:

\"Ik merk dat dit frustrerend is. Laten we het simpel maken: \...\"

## 5.7 Integratie in de totale Architect Intelligence flow

BehaviorAnalyzer haakt in op de **parallelle analysetrap**:

const \[

behaviorResult,

anticipationResult,

conflictsResult,

ragResult,

\] = await Promise.allSettled(\[

BehaviorAnalyzer.analyze(memory, wizardState),

AnticipationEngine.getGuidance(wizardState, currentChapter),

SystemIntelligence.detectConflicts(wizardState),

RAGEngine.search(query, wizardState),

\]);

const behaviorProfile = getFulfilledOrDefault(behaviorResult, DEFAULT_BEHAVIOR_PROFILE);

const anticipation = getFulfilledOrEmpty(anticipationResult);

const conflicts = getFulfilledOrEmpty(conflictsResult);

const rag = getFulfilledOrEmpty(ragResult);

const turnPlan = TurnPlanner.plan(triage, behaviorProfile, anticipation, conflicts);

const prunedContext = ContextPruner.prune({ turnPlan, behaviorProfile, conflicts, anticipation, rag, wizardState, conversationContext });

const response = await ResponseOrchestrator.generate(turnPlan, prunedContext);

## 5.8 Acceptatiecriteria voor Behavioral Intelligence (v3.1)

1.  **Profielconsistentie**

    -   4 testscenario's (starter-onzeker, starter-overwhelmed, ervaren-snel, ervarendecisive) leiden tot voorspelbare UserBehaviorProfiles.

2.  **Tone-switching**

    -   Dezelfde inhoudsvraag levert duidelijk andere stijl bij:

        -   starter + uncertain + slight overwhelm â†’ warm/coach, 1 vraag, uitleg

        -   ervaren + fast + decisive â†’ direct/expert, weinig tekst, concrete keuze

3.  **Geen regressies**

    -   Als er nauwelijks data/gesprek is, valt BehaviorProfile terug op een neutraal profiel:

        -   experience = \"enigszins\"

        -   pace = \"moderate\"

        -   confidence = \"exploring\"

        -   overwhelm = \"none\"

        -   actionLevel = \"medium\"

4.  **Frustratie-case**

    -   Bij twee gefrustreerde berichten in de laatste vijf:

        -   TurnPlan bevat \"acknowledge_frustration\" in requiredActions

        -   Prompt genereert ten minste Ã©Ã©n zin in de trant van:\
            "Ik merk dat dit lastig is. Laten we het stap voor stap doen."

# **DEEL VI --- CHAPTER OPENING PROTOCOL (DE COMPLETE OFFICIÃ‹LE SPECIFICATIE v3.1)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Dit is het **meest cruciale** onderdeel van de Architect Intelligence Layer, omdat dit bepaalt of de wizard **actief**, **slim** en **menselijk** voelt --- of stil en passief.

Met dit protocol krijgt Ã©lk hoofdstuk een **intelligente start**, waarbij Jules:

-   begrijpt *waarom* de gebruiker naar dit hoofdstuk gaat

-   *zÃ©lf* de eerste stap neemt

-   anticipatie-vragen stelt

-   blocking conflicts meteen laat zien

-   toon en tempo afstemt op het gebruikersprofiel

-   en **nooit** een leeg scherm achterlaat

**Dit moet in de code & in de prompt-pack volledig consistent blijven**.

# ðŸŽ¯ DOEL VAN DE MODULE

Het **Chapter Opening Protocol** is een verplicht proces dat **altijd wordt uitgevoerd** wanneer:

wizardState.currentChapter !== previousState.currentChapter

De module genereert:

1.  **Ã©Ã©n openingsbericht** (zonder patches)

2.  **een TurnPlan** dat door ResponseOrchestrator gebruikt kan worden

3.  **chapter-focussed instructies** voor de LLM

# ðŸ§± BESTANDEN

-   lib/ai/ChapterInitializer.ts â† hoofdmodule

-   lib/ai/chapterOpeningTemplates.ts â† per-hoofdstuk templates

-   lib/ai/TurnPlanner.ts (interactie met priority matrix)

-   app/api/chat/route.ts (routing bij hoofdstukwissel)

-   Prompt Pack v4.1 --- Hoofdstuk \"Chapter Opening Templates\"

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.1 TRIGGERCONDITIE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Een Chapter Opening wordt uitgevoerd wanneer:

previousState?.currentChapter !== wizardState.currentChapter

**Belangrijk:**

-   Dit protocol geldt **ook** wanneer gebruikers terugspringen naar een eerder hoofdstuk.

-   Het protocol wordt **niet** getriggerd door normale patches binnen een hoofdstuk.

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.2 OVERZICHT VAN DE 6-STAPPEN FLOW**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Elke hoofdstukstart doorloopt exact deze volgorde:

### **Stap 1 --- Context laden**

-   Het betreffende hoofdstuk (schema, velden, labels)

-   De huidige state voor dit hoofdstuk (gevuld/ongedefinieerd)

-   Alle conversation history (laatste 20 turns)

-   UserBehaviorProfile (uit BehaviorAnalyzer)

### **Stap 2 --- AnticipationEngine uitvoeren**

-   Alle anticipatieregels voor dit hoofdstuk ophalen

-   Filter **maximaal 1 kritieke anticipatie-regel**

-   Deze regel wordt *altijd* prioriteit boven normale data-invoer

### **Stap 3 --- SystemIntelligence uitvoeren**

-   Alle conflicts detecteren

-   Filter **alleen blocking conflicts**

-   Als er blocking conflicts zijn â†’ hoofdstuk opent *met* conflictmelding

### **Stap 4 --- TurnPlanner toepassen (priority matrix)**

-   Combineert:

    -   triage

    -   gebruikersgedrag

    -   anticipatie

    -   eventuele conflicts

-   Produceert:

    -   turnGoal

    -   tone

    -   requiredActions

    -   allowPatches = **false** (verplicht bij hoofdstukstart)

    -   de eerste focus

### **Stap 5 --- Opening message genereren**

Gebaseerd op:

-   Het hoofdstuk ("Waarom is dit hoofdstuk belangrijk?")

-   TurnGoal

-   Tone

-   Anticipatie of conflict (indien actief)

-   Eerste vraag volgens CHAPTER_SCHEMAS

-   Gedragscontext (starter/ervaren, langzaam/snel)

### **Stap 6 --- Return & SSE-stream**

Het systeem stuurt Ã©Ã©n **opening message** naar de chatclient:

{

type: \"chapter_opening\",

message: \"\...\",

turnPlan: {\...},

chapter: wizardState.currentChapter

}

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.3 COMPLETE TYPESCRIPT IMPLEMENTATIE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## **lib/ai/ChapterInitializer.ts**

import { AnticipationEngine } from \"./AnticipationEngine\";

import { SystemIntelligence } from \"./SystemIntelligence\";

import { BehaviorAnalyzer } from \"./BehaviorAnalyzer\";

import { TurnPlanner } from \"./TurnPlanner\";

import { buildChapterOpeningMessage } from \"./chapterOpeningTemplates\";

import { CHAPTER_SCHEMAS } from \"../schemas/CHAPTER_SCHEMAS\";

export async function handleChapterStart(

chapter: ChapterKey,

wizardState: WizardState,

memory: ConversationMemory

): Promise\<ChapterOpeningResponse\> {

// 1. Context

const chapterSchema = CHAPTER_SCHEMAS\[chapter\];

const existingData = wizardState.chapterAnswers\[chapter\] \|\| {};

const turns = await memory.load();

// 2. Anticipation

const anticipationAll = await AnticipationEngine.getGuidance(wizardState, chapter);

const anticipationCritical = anticipationAll.filter(a =\> a.priority === \"critical\").slice(0, 1);

// 3. System conflicts

const conflictsAll = await SystemIntelligence.detectConflicts(wizardState);

const conflictsBlocking = conflictsAll.filter(c =\> c.severity === \"blocking\");

// 4. Behavior Profile

const behaviorProfile = await BehaviorAnalyzer.analyze(memory, wizardState);

// 5. Turn Planner

const turnPlan = TurnPlanner.planChapterOpening({

chapter,

anticipationCritical,

conflictsBlocking,

behaviorProfile,

schema: chapterSchema,

});

// 6. Build message

const message = buildChapterOpeningMessage({

chapter,

schema: chapterSchema,

turnPlan,

behaviorProfile,

anticipationRule: anticipationCritical\[0\],

conflict: conflictsBlocking\[0\],

existingData

});

return {

type: \"chapter_opening\",

message,

turnPlan,

chapter

};

}

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.4 TURN PLANNER --- SPECIALE CHAPTER OPENING LOGICA**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

In TurnPlanner.ts komt een extra functie:

planChapterOpening({

chapter,

anticipationCritical,

conflictsBlocking,

behaviorProfile,

schema

}): TurnPlan {

// 1. Blocking conflicts â†’ hoogste prioriteit

if (conflictsBlocking.length \> 0) {

return {

goal: \"surface_risks\",

tone: \"direct\",

allowPatches: false,

importantTriggers: conflictsBlocking.map(c =\> c.id),

};

}

// 2. Critical anticipation â†’ tweede prioriteit

if (anticipationCritical.length \> 0) {

return {

goal: \"anticipate_and_guide\",

tone: behaviorProfile.overwhelm === \"none\" ? \"expert\" : \"warm\",

allowPatches: false,

anticipatoryRules: anticipationCritical

};

}

// 3. Normale start â†’ fill_data

return {

goal: \"fill_data\",

tone:

behaviorProfile.experience === \"starter\"

? \"coach\"

: behaviorProfile.experience === \"ervaren\"

? \"direct\"

: \"expert\",

allowPatches: false

};

}

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.5 GENERATOR VAN DE OPENING MESSAGE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Bestand: lib/ai/chapterOpeningTemplates.ts

Het systeem heeft:

-   purpose beschrijvingen

-   eerste-vraag per hoofdstuk

-   varianten afhankelijk van turnGoal

-   tone en behavior beÃ¯nvloeden structuur

### Kern:

export function buildChapterOpeningMessage({

chapter,

schema,

turnPlan,

behaviorProfile,

anticipationRule,

conflict,

existingData

}) {

let msg = \`U bent nu bij het hoofdstuk \"\${schema.label}\". \`;

msg += schema.purpose + \" \";

// Conflicts

if (turnPlan.goal === \"surface_risks\" && conflict) {

msg += \`\\n\\nVoordat we verdergaan moet ik iets belangrijks met u bespreken: \`;

msg += conflict.description + \` \`;

msg += \`Hoe wilt u hiermee omgaan?\`;

return msg;

}

// Anticipation

if (turnPlan.goal === \"anticipate_and_guide\" && anticipationRule) {

msg += \`\\n\\nVoordat we beginnen heb ik een belangrijke vraag: \`;

msg += anticipationRule.anticipatoryQuestions\[0\];

msg += \`\\n\\nDit is relevant omdat \${anticipationRule.reasoning.toLowerCase()}.\`;

return msg;

}

// Normale start

const firstField = schema.requiredFields\[0\];

msg += \`\\n\\nOm te beginnen: \${schema.introQuestions\[firstField\]}\`;

return msg;

}

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.6 INTEGRATIE IN /api/chat/route.ts**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

if (wizardState.currentChapter !== previousState?.currentChapter) {

const result = await handleChapterStart(

wizardState.currentChapter!,

wizardState,

conversationMemory

);

return streamResponse(result);

}

Daarna pas, wanneer gebruiker reageert â†’ normale orchestrateTurn().

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.7 UI-INTEGRATIE (CLIENT)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Wanneer SSE-event chapter_opening binnenkomt:

-   scroll naar chat

-   message tonen

-   patch-knoppen **niet** tonen

-   geen inputblok disablen

-   wizard highlight naar new chapter

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.8 PROMPT PACK --- CHAPTER OPENING SECTION (SAMENVATTING)**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Voor de LLM:

### Verplicht:

-   Nooit meer dan 1 vraag bij overwhelm

-   Geen patches

-   Altijd uitleggen waarom hoofdstuk belangrijk is

-   Altijd formeel ("u", "uw")

-   Geen emojis

### Templates:

-   Per hoofdstuk

-   Per turnGoal

-   Per tone

-   Starter vs Ervaren vs Frustratie

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.9 ACCEPTATIECRITERIA**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

### Functioneel

-   Elk hoofdstuk opent *altijd* met een message binnen 200ms

-   Geen hoofdstuk begint stil

### Logisch

-   Correcte prioriteit:

    1.  Blocking conflict

    2.  Critical anticipation

    3.  Normale start

### Gedrag

-   Tone correct gekozen volgens Behavior Analyzer

-   Starter vs ervaren â†’ andere openingsvraag

### UX

-   Gebruiker weet:

    -   waar hij is

    -   waarom dit hoofdstuk bestaat

    -   wat de eerste stap is

### Stabiliteit

-   Nooit patches bij openingsbericht

-   Nooit meer dan 1 critical anticipatie

-   Geen overlap tussen conflict + anticipatie

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# **6.10 CONCLUSIE**

# \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

Het **Chapter Opening Protocol** is nu volledig gespecificeerd zoals een productiewaardig AI-architectensysteem het moet doen:

-   deterministisch

-   menselijk

-   contextueel

-   fouttolerant

-   uitbreidbaar

-   consistent met Build v3.1 & Prompt Pack v4.1
